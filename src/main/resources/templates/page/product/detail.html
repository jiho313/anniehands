<html layout:decorate="~{layout/common-base}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">
<!-- 고유 CSS -->
<head>
    <link rel="stylesheet" th:href="@{/css/page/product/detail.css}">
</head>
<!-- 고유 content -->
<div class="container" layout:fragment="content-top">
    <div class="card border-light mt-2">
        <div class="row">
            <div class="col">
                <img class="product-image" th:src="${productDetail.productDto.thumbnailPath}">
            </div>
            <div class="col">
                <div class="card-body my-4">
                    <h3 class="card-title productName" th:text="${productDetail.productDto.name}">상품이름</h3>
                    <p class="card-text" th:text="${productDetail.productDto.content}">상품 상세 설명입니다.상품 상세 설명입니다.상품 상세
                        설명입니다.상품 상세 설명입니다.상품 상세 설명입니다.상품 상세 설명입니다.상품
                        상세 설명입니다.
                        상품 상세 설명입니다.상품 상세 설명입니다.상품 상세 설명입니다.상품 상세 설명입니다.상품 상세 설명입니다.상품 상세 설명입니다.상품 상세 설명입니다.상품 상세
                        설명입니다.상품 상세 설명입니다.상품 상세 설명입니다.상품 상세 설명입니다.상품 상세 설명입니다.상품 상세 설명입니다.상품 상세 설명입니다.
                    </p>
                    <p class="card-text">판매가 <span class="price"
                                                   style="text-decoration: line-through;"
                                                   th:if="${productDetail.productDto.sale < productDetail.productDto.price}"
                                                   th:text="${#numbers.formatInteger(productDetail.productDto.price, 0, 'COMMA')} + '원'">25,000</span>
                        <span class="price"
                              th:text="${#numbers.formatInteger(productDetail.productDto.price, 0, 'COMMA')} + '원'"
                              th:unless="${productDetail.productDto.sale < productDetail.productDto.price}">가격</span>
                    </p>
                    <p class="card-text ">할인가 <span class="fw-bold sale"
                                                    style="color: red; margin-left: 10px;"
                                                    th:if="${productDetail.productDto.sale < productDetail.productDto.price}"
                                                    th:text="${#numbers.formatInteger(productDetail.productDto.sale, 0, 'COMMA')} + '원'">19,000</span>
                    </p>

                    <p class="card-text">배송비 <span>2,500</span></p>

                    <div th:if="${not #lists.isEmpty(productDetail.colorOptions)}">
                        <select aria-label="Default select example" class="form-select mb-1 color" style="width: 35%;">
                            <option disabled selected>색상</option>
                            <option th:each="option : ${productDetail.colorOptions}"
                                    th:text="${option.optionValue}"
                                    th:value="${option.no}">
                            </option>
                        </select>
                    </div>

                    <div th:if="${not #lists.isEmpty(productDetail.sizeOptions)}">
                        <select aria-label="Default select example" class="form-select mb-1 size" style="width: 35%;">
                            <option disabled selected>사이즈</option>
                            <option th:each="option : ${productDetail.sizeOptions}"
                                    th:text="${option.optionValue}"
                                    th:value="${option.no}">
                            </option>
                        </select>
                    </div>

                    <div class="row">
                        <table class="table">
                            <colgroup>
                                <col width="65%">
                                <col width="15%">
                                <col width="15%">
                                <col width="5%">
                            </colgroup>
                            <thead>
                            <tr>
                                <th>이름</th>
                                <th>수량</th>
                                <th>가격</th>
                                <th></th>
                            </tr>
                            </thead>
                            <tbody>

                            </tbody>

                        </table>

                        <div class="text-end"><h4>총 상품금액 <span class="total-price">0 원</span></h4></div>

                        <div class="justify-content-end row  mt-2">
                            <button class="btn btn-outline-success" style="width: 50%;" type="button">장바구니 담기</button>
                            <button class="btn btn-outline-primary" style="width: 50%;" type="button">구매하기</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="card border-light  mx-4">
        <div class="card-header mt-3">
            <h3 class="" style="text-align: center;">상품상세</h3>
        </div>
        <div class="card-body">
            <div class="product-detail-image-box" th:each="image : ${productDetail.imageDtos}">
                <img class="product-detail-image" th:src="${image.serverName}">
            </div>
        </div>
    </div>

    <div class="card border-light review-div">
        <div class="card-header">
            <h3 class="" style="text-align: center;">리뷰</h3>
        </div>
        <table class="table">
            <colgroup>
                <col width="90%">
                <col width="10%">
            </colgroup>
            <thead>
            <tr>
                <th>제목</th>
                <th>날짜</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>상품리뷰입니다.상품리뷰입니다.상품리뷰입니다.상품리뷰입니다.상품리뷰입니다.</td>
                <td>2024.01.01</td>
            </tr>
            <tr>
                <td>상품리뷰입니다.상품리뷰입니다.상품리뷰입니다.상품리뷰입니다.상품리뷰입니다.</td>
                <td>2024.01.01</td>
            </tr>
            <tr>
                <td>상품리뷰입니다.상품리뷰입니다.상품리뷰입니다.상품리뷰입니다.상품리뷰입니다.</td>
                <td>2024.01.01</td>
            </tr>
            <tr>
                <td>상품리뷰입니다.상품리뷰입니다.상품리뷰입니다.상품리뷰입니다.상품리뷰입니다.</td>
                <td>2024.01.01</td>
            </tr>
            </tbody>
        </table>
    </div>


    <div class="card border-light review-div">
        <div class="card-header">
            <h3 class="" style="text-align: center;">문의</h3>
        </div>
        <table class="table">
            <colgroup>
                <col width="90%">
                <col width="10%">
            </colgroup>
            <thead>
            <tr>
                <th>제목</th>
                <th>날짜</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>상품문의입니다.상품문의입니다.상품문의입니다.상품문의입니다.상품문의입니다.</td>
                <td>2024.01.01</td>
            </tr>
            <tr>
                <td>상품문의입니다.상품문의입니다.상품문의입니다.상품문의입니다.상품문의입니다.</td>
                <td>2024.01.01</td>
            </tr>
            <tr>
                <td>상품문의입니다.상품문의입니다.상품문의입니다.상품문의입니다.상품문의입니다.</td>
                <td>2024.01.01</td>
            </tr>
            <tr>
                <td>상품문의입니다.상품문의입니다.상품문의입니다.상품문의입니다.상품문의입니다.</td>
                <td>2024.01.01</td>
            </tr>
            </tbody>
        </table>
    </div>

</div>

<!-- 모달 등 추가 div가 필요할 경우만 사용 -->
<div layout:fragment="content-bottom">
    <div class="modal">
        <h1>modal영역</h1>
    </div>
</div>
<!-- 고유 script -->
<th:block layout:fragment="script">
    <script th:src="@{/js/page/product/detail.js}"></script>
</th:block>
</html>